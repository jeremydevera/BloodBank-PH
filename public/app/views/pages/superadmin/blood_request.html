<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width initial-scale=1.0">
    <link href="./assets/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./assets/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
    <link href="./assets/vendors/themify-icons/css/themify-icons.css" rel="stylesheet" />
    <!-- PLUGINS STYLES-->
    <link href="./assets/vendors/jvectormap/jquery-jvectormap-2.0.3.css" rel="stylesheet" />
    <!-- THEME STYLES-->
    <link href="assets/css/main.min.css" rel="stylesheet" />
    <!-- PAGE LEVEL STYLES-->
    <script src="twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link href="twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./assets/vendors/DataTables/datatables.min.css" rel="stylesheet" />
    
</head>
</head>

<body class="fixed-navbar"  >
    <div class="page-wrapper">
        <!-- START HEADER-->
        <header class="header">
            <div class="page-brand" style="background-color: #b22222">
                <a class="link" href="index.html">
                    <span class="brand"><h4>BloodBank</h4>
                        <span class="brand-tip"><h4>PH</h4></span>
                    </span>
                    <span class="brand-mini">BPH</span>
                </a>
            </div>
            <div class="flexbox flex-1">
                <!-- START TOP-LEFT TOOLBAR-->
                <ul class="nav navbar-toolbar">
                    <li>
                        <a class="nav-link sidebar-toggler js-sidebar-toggler"><i class="ti-menu"></i></a>
                    </li>
                    <li>
                        <form class="navbar-search" action="javascript:;">
                            <div class="rel">
                                <span class="search-icon"><i class="ti-search"></i></span>
                                <input class="form-control" type="text"  name="search" placeholder="Search here..." ng-show="!(bloodrequestmanagement.showAll()).length" ng-model="searchKeyword" ng-keyup="bloodrequestmanagement.search(searchKeyword, number);">
                            </div>
                        </form>
                    </li>
                </ul>
                <!-- END TOP-LEFT TOOLBAR-->
                <!-- START TOP-RIGHT TOOLBAR-->
                <ul class="nav navbar-toolbar">
                    <li class="dropdown dropdown-inbox">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown"><i class="fa fa-envelope-o"></i>
                            <span class="badge badge-primary envelope-badge">9</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right dropdown-menu-media">
                            <li class="dropdown-menu-header">
                                <div>
                                    <span><strong>9 New</strong> Requests</span>
                                    <a class="pull-right" href="mailbox.html">view all</a>
                                </div>
                            </li>
                            <li class="list-group list-group-divider scroller" data-height="240px" data-color="#71808f">
                                <div>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                               
                                            </div>
                                            <div class="media-body">
                                                <div class="font-strong"> </div>JEREMY DE VERA<small class="text-muted float-right">Just now</small>
                                                <div class="font-13">REQUEST</div>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                               
                                            </div>
                                            <div class="media-body">
                                                <div class="font-strong"></div>JEREMY DE VERA<small class="text-muted float-right">18 mins</small>
                                                <div class="font-13">REQUEST</div>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                               
                                            </div>
                                            <div class="media-body">
                                                <div class="font-strong"></div>RAYLENE CAVILES<small class="text-muted float-right">18 mins</small>
                                                <div class="font-13">REQUEST</div>
                                            </div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                
                                            </div>
                                            <div class="media-body">
                                                <div class="font-strong"></div>ABI CASABUENA<small class="text-muted float-right">3 hrs</small>
                                                <div class="font-13">REQUEST</div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown dropdown-notification">
                        <a class="nav-link dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bell-o rel"><span class="notify-signal"></span></i></a>
                        <ul class="dropdown-menu dropdown-menu-right dropdown-menu-media">
                            <li class="dropdown-menu-header">
                                <div>
                                    <span><strong>5 New</strong> Notifications</span>
                                    <a class="pull-right" href="javascript:;">view all</a>
                                </div>
                            </li>
                            <li class="list-group list-group-divider scroller" data-height="240px" data-color="#71808f">
                                <div>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                                <span class="badge badge-success badge-big"><i class="fa fa-check"></i></span>
                                            </div>
                                            <div class="media-body">
                                                <div class="font-13">NATIONAL BLOOD DRIVE</div><small class="text-muted">22 mins</small></div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                                <span class="badge badge-default badge-big"><i class="fa fa-shopping-basket"></i></span>
                                            </div>
                                            <div class="media-body">
                                                <div class="font-13">NATIONAL BLOOD DRIVE</div><small class="text-muted">40 mins</small></div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                                <span class="badge badge-danger badge-big"><i class="fa fa-bolt"></i></span>
                                            </div>
                                            <div class="media-body">
                                                <div class="font-13">NATIONAL BLOOD DRIVE</div><small class="text-muted">2 hrs</small></div>
                                        </div>
                                    </a>
                                    <a class="list-group-item">
                                        <div class="media">
                                            <div class="media-img">
                                                <span class="badge badge-success badge-big"><i class="fa fa-user"></i></span>
                                            </div>
                                            <div class="media-body">
                                                <div class="font-13">New user registered</div><small class="text-muted">2 hrs</small></div>
                                        </div>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown dropdown-user">
                        <a class="nav-link dropdown-toggle link" data-toggle="dropdown">
                            <img src="./assets/img/admin-avatar.png" />
                            <span></span>{{main.username}}</a>
                        <ul class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="profile.html"><i class="fa fa-user"></i>Profile</a>
                            <a class="dropdown-item" href="profile.html"><i class="fa fa-cog"></i>Settings</a>
                            <a class="dropdown-item" href="javascript:;"><i class="fa fa-support"></i>Support</a>
                            <li class="dropdown-divider"></li>
                             <a class="dropdown-item" href="#" ng-click="main.logout();"><i class="fa fa-power-off"></i>Logout</a>
                        </ul>
                    </li>
                </ul>
                <!-- END TOP-RIGHT TOOLBAR-->
            </div>
        </header>
        <!-- END HEADER-->
        <!-- START SIDEBAR-->
        <nav class="page-sidebar" id="sidebar" style = "background-color:#b22222">
            <div id="sidebar-collapse">
                <div class="admin-block d-flex">
                    <div>
                        <img src="./assets/img/admin-avatar.png" width="45px" />
                    </div>
                    <div class="admin-info">
                        <div class="font-strong">{{main.username}}</div><small>Administrator</small></div>
                </div>
                <ul class="side-menu metismenu">
                    <li>
                        <a href="/superadmin_dashboard"><i class="sidebar-item-icon fa fa-th-large"></i>
                            <span class="nav-label">Dashboard</span>
                        </a>
                    </li>
                   <li>
                        <a href="/superadmin_user_accounts"><i class="sidebar-item-icon fa fa-user-circle"></i>
                            <span class="nav-label">User Accounts</span>
                        </a>
                    </li>
                    <li>
                        <a href="/superadmin_newsfeed"><i class="sidebar-item-icon fa fa-envelope-o"></i>
                            <span class="nav-label">Announcements</span>
                        </a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/events.html"><i class="sidebar-item-icon fa fa-calendar"></i>
                            <span class="nav-label">Manage Events</span>
                        </a>
                    </li>
                    <li>
                        <a href="/superadmin_blood_donation"><i class="sidebar-item-icon fa fa-tint "></i>
                            <span class="nav-label">Blood Donations</span>
                        </a>
                    </li>
                    <li>
                        <a class = "actives" href="/superadmin_bloodrequest"><i class="sidebar-item-icon fa fa-edit"></i>
                            <span class="nav-label">Blood Requests</span>
                        </a>
                    </li>
                    <li>
                        <a href="index.html"><i class="sidebar-item-icon fa fa-user-plus"></i>
                            <span class="nav-label">Registered Donors</span>
                        </a>
                    </li>
                    <li>
                        <a href="superadmin_deferred_donors"><i class="sidebar-item-icon fa fa-file-text"></i>
                            <span class="nav-label">Deferred Donors</span>
                        </a>
                    </li>
               
                    <li>
                        <a href="/superadmin_bloodnotice"><i class="sidebar-item-icon fa fa-exclamation-circle"></i>
                            <span class="nav-label">Blood Test Notice</span>
                        </a>
                    </li>
                    <li>
                        <a href="/superadmin_blood_inventory"><i class="sidebar-item-icon fa fa-th-large"></i>
                            <span class="nav-label">Blood Inventory</span>
                        </a>
                    </li>
                  
                
                   
                </ul>
            </div>

        </nav>
        <style>
ul {
    list-style-type: none;
    
}

li a {
    display: block;
    padding: 8px 16px;
    text-decoration: none;
    
}

li a.actives {
    color: #C20000;
    border-radius: 50px;
    color: white;
    background-color: #911c1c;
}

#sidebar li a:hover:not(.actives) {
    background-color: #911c1c;
    color: white;
    border-radius: 50px;
}


</style>
<style>
body {
        color: #566787;
        background: #f5f5f5;
	}
    table.table td a {
        color: #a0a5b1;
        display: inline-block;
        margin: 0 5px;
    }
	table.table td a.view {
        color: #E34724;
    }
    table.table td a.edit {
        color: #E34724;
    }
    table.table td a.delete {
        color: #E34724;
    }
    table.table td i {
        font-size: 19px;
    }    

</style>
        <!-- END SIDEBAR-->
        <div class="content-wrapper">
        
            <!-- START PAGE CONTENT-->
            <div class="page-content fade-in-up">
                  <ul class="nav nav-tabs" role="tablist">
        <li class="nav-item" ng-click="bloodrequestmanagement.namePhase();" ng-class="nameTab" data-toggle="tab">
            <strong><a class="nav-link active" href="#" data-toggle="tab" ><i class="fa fa-line-chart"></i> Waiting</a></strong>
        </li>
        <li class="nav-item" ng-click="bloodrequestmanagement.usernamePhase();" ng-class="usernameTab" data-toggle="tab">
            <strong><a class="nav-link" href="#" data-toggle="tab"><i class="fa fa-thumbs-up"></i> Approved</a></strong>
        </li>
        <li class="nav-item" ng-click="bloodrequestmanagement.emailPhase();" ng-class="emailTab" data-toggle="tab">
            <strong><a class="nav-link" href="#" data-toggle="tab"><i class="fa fa-check"></i> Claimed</a></strong>
        </li>

        <li class="nav-item" ng-click="bloodrequestmanagement.permissionsPhase();" ng-class="permissionsTab" data-toggle="tab">
            <strong><a class="nav-link" href="#" data-toggle="tab"><i class="fa fa-heartbeat"></i> Declined</a></strong>
        </li>
                                  
    </ul>
                    <div class="ibox">
 
                    <div class="ibox-body">
                <div class="row">
                    <div class="col-md-10">
						<h4 ng-show="bloodrequestmanagement.phase1">Blood Request Waiting</h4>
					</div>
                    <div class="col-md-10">
						<h4 ng-show="bloodrequestmanagement.phase2">Blood Request Approved</h4>
					</div>

                    <div class="col-md-10">
						<h4 ng-show="bloodrequestmanagement.phase3">Blood Request Claimed</h4>
					</div>

                    <div class="col-md-10">
						<h4 ng-show="bloodrequestmanagement.phase4">Blood Request Declined</h4>
					</div>
                    
					<div class="col-md-15 text-right">
                        
                    <a href = "/superadmin_add_bloodrequest" style = "cursor:pointer;" class="btn btn-danger"><i class="fa fa-user"></i> <strong>Add Claiming Details </strong>	</a>				
					</div>
                </div>
        

<br>

<!-- Custom Error Message -->
<div class="row show-hide-message" ng-show="bloodrequestmanagement.showMoreError">
    <div class="alert alert-danger">{{ bloodrequestmanagement.showMoreError }}</div>
</div>
<!-- Custom Error Message -->
<div class="container">
<br>
<div ng-show="bloodrequestmanagement.phase1">
<table class="table table-striped table-bordered table-hover" id="example-table" cellspacing="0" width="100%"  >
    <thead>
        <tr>
            <th hidden>ID</th>
            <th>Name</th>
            <th>Blood Product</th>
            <th>Volume</th>
            <th>No of bags</th>
            <th>Date Needed</th>
            <th>Date Requested</th>
            <th>Request Status</th>
            <th class="text-center">Action</th>
        
        </tr>
    </thead>
				
	<tbody>
		<tr ng-repeat="person in bloodrequestmanagement.bloodrequests">
            <td hidden><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person._id}}</td>
            <td ><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person.patient_name}}</td>
            <td>{{ person.blood_group }} - {{person.blood_needed}}</td>
            <td>{{ person.volume }}</td>
            <td>{{ person.no_of_bags }}</td>
            <td>{{ person.date_needed }}</td>
            <td>{{ person.date_requested}}</td>
            <td><span class="badge badge-danger m-b-5" style ="text-transform: uppercase;">{{ person.request_status }}</span></td>
            <td class="text-center">

            <div class="btn-group">
                <button class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown"><i style ="font-size: 13px;"class="fa fa-cogs"></i></button>
                <ul class="dropdown-menu">
                    <li>
                        <a class="dropdown-item" href="/editremark/{{ person._id }}">Decline</a>
                    </li>
                    <li>
                         <a class="dropdown-item" href="/editremarkapproved/{{ person._id }}">Approved</a>
                    </li>
                </ul>
            </div>
            </td>
        </tr>
	</tbody>
</table>
</div>

<div ng-show="bloodrequestmanagement.phase2">
    <table class="table table-striped table-bordered table-hover" id="example-table2" cellspacing="0" width="100%" >
    <thead>
        <tr>
            <th hidden>ID</th>
            <th>Name</th>
            <th>Blood Product</th>
            <th>Volume</th>
            <th>No of bags</th>
            <th>Date Needed</th>
            <th>Date Requested</th>
            <th>Request Status</th>
            <th class="text-center">Action</th>
        
        </tr>
    </thead>
				
	<tbody>
		<tr ng-repeat="person in bloodrequestmanagement.bloodrequestsapproved">
            <td hidden><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person._id}}</td>
            <td ><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person.patient_name}}</td>
            <td>{{ person.blood_group }} - {{person.blood_needed}}</td>
            <td>{{ person.volume }}</td>
            <td>{{ person.no_of_bags }}</td>
            <td>{{ person.date_needed }}</td>
            <td>{{ person.date_requested}}</td>
            <td><span class="badge badge-primary m-b-5" style ="text-transform: uppercase;">{{ person.request_status }}</span></td>
            <td class="text-center">

            <div class="btn-group">
                <button class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown"><i style ="font-size: 13px;"class="fa fa-cogs"></i></button>
                <ul class="dropdown-menu">
                    <li>
                            <a class="dropdown-item" href="/editbloodrequest/{{ person._id }}">Claim</a>
                    </li>

                     <li>
                        <a class="dropdown-item" href="/editremark/{{ person._id }}">Decline</a>
                    </li>
                </ul>
            </div>
            </td>
        </tr>
	</tbody>
</table>
</div>

<div ng-show="bloodrequestmanagement.phase3">
<table class="table table-striped table-bordered table-hover" id="example-table3" cellspacing="0" width="100%"  >
    <thead>
        <tr>
            <th hidden>ID</th>
            <th>Name</th>
            <th>Blood Product</th>
            <th>Volume</th>
            <th>No of bags</th>
            <th>Date Claimed</th>
            <th>Request Status</th>
          
        
        </tr>
    </thead>
				
	<tbody>
		<tr ng-repeat="person in bloodrequestmanagement.bloodrequestsclaimed">
            <td hidden><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person._id}}</td>
            <td ><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person.patient_name}}</td>
            <td>{{ person.blood_group }} - {{person.blood_needed}}</td>
            <td>{{ person.volume }}</td>
            <td>{{ person.no_of_bags }}</td>
            <td>{{ person.date_claimed}}</td>
            <td><span class="badge badge-success m-b-5" style ="text-transform: uppercase;">{{ person.request_status }}</span></td>
        </tr>
	</tbody>
</table>
</div>



<div ng-show="bloodrequestmanagement.phase4">
<table class="table table-striped table-bordered table-hover" id="example-table4" cellspacing="0" width="100%"  >
    <thead>
        <tr style="text-align:center">
            <th hidden>ID</th>
            <th>Name</th>
            <th>Blood Product</th>
            <th>Remarks</th>
            <th>Request Status</th>   
        </tr>
    </thead>
				
	<tbody style="text-align:center">
		<tr ng-repeat="person in bloodrequestmanagement.bloodrequestsdeclined">
            <td hidden><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person._id}}</td>
            <td ><a class="text-primary" href="/edit/{{ person._id }}"><strong>{{person.patient_name}}</td>
            <td>{{ person.blood_group }} - {{person.blood_needed}}</td>
            <td>{{ person.remarks }}</td>
            <td ><span class="badge badge-warning m-b-5" style ="text-transform: uppercase;">{{ person.request_status }}</span></td>
        </tr>
	</tbody>
</table>
</div>




</div>
<!-- User bloodrequest Table -->
<div class="panel panel-primary">
    <!-- Start: Table -->
    
</div>


<!-- Custom Error Message -->
<div class="row show-hide-message" ng-show="blobloodrequestmanagement.showMoreError">
    <div class="alert alert-danger">{{ bloodrequestmanagement.showMoreError }}</div>
</div>

                    </div>
                </div>

             
                <style>
                    .visitors-table tbody tr td:last-child {
                        display: flex;
                        align-items: center;
                    }

                    .visitors-table .progress {
                        flex: 1;
                    }

                    .visitors-table .progress-parcent {
                        text-align: right;
                        margin-left: 10px;
                    }
                </style>
            </div>
            <!-- END PAGE CONTENT-->
            <footer class="page-footer">
                <div class="font-13">2018 © <b>BloodBank PH</b> - All rights reserved.</div>
                <div class="to-top"><i class="fa fa-angle-double-up"></i></div>
            </footer>
        </div>
    </div>


    <div class="sidenav-backdrop backdrop"></div>
   
    <!-- END PAGA BACKDROPS-->
    <!-- CORE PLUGINS-->

   <!-- CORE PLUGINS-->
    <script src="./assets/vendors/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/popper.js/dist/umd/popper.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/metisMenu/dist/metisMenu.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- PAGE LEVEL PLUGINS-->
    <script src="./assets/vendors/chart.js/dist/Chart.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/jvectormap/jquery-jvectormap-2.0.3.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/jvectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script>
    <script src="./assets/vendors/jvectormap/jquery-jvectormap-us-aea-en.js" type="text/javascript"></script>
    <!-- CORE SCRIPTS-->
    <script src="assets/js/app.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/DataTables/datatables.min.js" type="text/javascript"></script>
    <!-- PAGE LEVEL SCRIPTS-->

      <script type="text/javascript">
    $(function() {
        $('#example-table4').DataTable({
            pageLength: 10,
        
        });
    })
    </script>


    <script type="text/javascript">
    $(function() {
        $('#example-table').DataTable({
            pageLength: 10,
        
        });
    })
    </script>

     <script type="text/javascript">
    $(function() {
        $('#example-table2').DataTable({
            pageLength: 10,
        
        });
    })
    </script>




         <script type="text/javascript">
    $(function() {
        $('#example-table3').DataTable({
            pageLength: 10,
        
        });
    })
    </script>


  
    
</body>
</html>
